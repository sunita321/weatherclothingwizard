
<!-- Application Purpose: To retrieve weather data -->
<html>
<head>
  <title>Weather Underground Data</title>
  <script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <link rel="icon" href="favicon.ico">
</head>
<body>
  
  <!-- Retrieved Data will be dumped here -->
  <div class="city"></div>
  <div class="wind"></div>
  <div class="humidity"></div>
  <div class="tempNow"></div>

 
  <script type="text/javascript">
   // This is our API Key
    var APIKey = "3f8d0b47644220a7";

    var state = "FL";

    var city = "Melbourne";

    var zip = "32901";
    // Here we are building the URL we need to query the database
    var queryURL = "http://api.wunderground.com/api/" + APIKey + "/conditions/q/" + zip +".json";


    // Here we run our AJAX call to the OpenWeatherMap API
    $.ajax({url: queryURL, method: 'GET'})

    // We store all of the retrieved data inside of an object called "response"
    .done(function(conditions) {

      // Log the queryURL
      console.log(queryURL);

      // Log the resulting object
      console.log(conditions);


      // Transfer content to HTML
      $('.city').html(city);
      $(".tempNow").html("Current Temperature (C) " + conditions.current_observation.temp_c);

      // Log the data in the console as well
   
    console.log("Current Temperature (C): " + conditions.current_observation.temp_c);

    var Icon = conditions.current_observation.icon_url;

   var image = $("<img>").attr("src", Icon); //Passes still image link to the image src

   $(".tempNow").append(image);
    }); 
  </script>


</body>
</html>

