

<!-- Application Purpose: To retrieve weather data on the city Bujumbura, Burundi  using the OpenWeatherMap API-->
<html>
<head>
  <title>Weather Underground Data</title>
  <script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
</head>
<body>
  
  <!-- Retrieved Data will be dumped here -->
  <div class="city"></div>
  <div class="wind"></div>
  <div class="forecast"></div>
  <div class="tempNow"></div>

 
  <script type="text/javascript">
   // This is our API Key
    var APIKey = "3f8d0b47644220a7";

	var state = "FL";

    var city = "Melbourne";

    var zip = "32901";
    // Here we are building the URL we need to query the database
    var queryURL = "http://api.wunderground.com/api/bc980387c56eb3ec/forecast/q/" + zip +".json";


    // Here we run our AJAX call to the OpenWeatherMap API
    $.ajax({url: queryURL, method: 'GET'})

    // We store all of the retrieved data inside of an object called "response"
    .done(function(response) {

      // Log the queryURL
      console.log(queryURL);

      // Log the resulting object
      console.log(response);


      // Transfer content to HTML
      $('.city').html(city);
      $(".forecast").html("Forecast: " + response.forecast.txt_forecast.forecastday[0].fcttext_metric);

      // Log the data in the console as well
   
    console.log("Forecast Period 0" + response.forecast.txt_forecast.forecastday[0].fcttext_metric);

    var Icon = response.forecast.txt_forecast.forecastday[0].icon_url;

    var image = $("<img>").attr("src", Icon); //Passes still image link to the image src

    $(".forecast").append(image);
    }); 
  </script>


</body>
</html>

