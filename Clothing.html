<!-- Application Purpose: To get clothing data using the ShopStyle API-->
<html>
<head>
  <title>ShopStyle Data</title>
  <script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
</head>
<body>
  
  <!-- Retrieved Data will be dumped here -->
  <div class="category"></div>
  <div class="clothing_image"></div>
  <div class="umbrella"></div>


 
  <script type="text/javascript">
   // This is our API Key
    var ShopStyleAPIKey = "uid7169-36888263-28";

    function displayWomenJackets()
    {
      $(".clothing_image").empty();

      // Here we are building the URL we need to query the database
      var queryURLShop = "http://api.shopstyle.com/api/v2/products?pid=uid7169-36888263-28&fts=women+jackets&offset=0&limit=5";
      // Log the queryURLShop
      console.log(queryURLShop);

      // AJAX call to the Shop Style API
      $.ajax({url: queryURLShop, method: 'GET'})


      //Transfer content to HTML
      


      // We store all of the retrieved data inside of an object called "response"
      .done(function(response) 
      {
        $('.category').html("Category: " + response.metadata.category.fullName);
        // Log the resulting object
        console.log(response);
        for (i=0; i < response.products.length; i++) 
        {
          var clothingPic = response.products[i].image.sizes.IPhone.url;
          console.log(clothingPic);
          var clothingImage = $("<img>").attr("src", clothingPic); //Passes still image link to the image src
          $(".clothing_image").append(clothingImage);
        }

    
      }); 

    }

    displayWomenJackets();
  </script>


</body>
</html>

